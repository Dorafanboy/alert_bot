# Telegram Reminder Bot

Бот для создания напоминаний в Telegram. Поддерживает два формата записи даты:

1. ДД.ММ ЧЧ:ММ (например, 13.04 17:00)
2. "Завтра в X" (например, "Завтра в 5")

## Структура проекта

```
.
├── cmd/
│   └── bot/           # Точка входа в приложение
├── internal/
│   ├── bot/          # Логика работы с Telegram API
│   ├── config/       # Конфигурация приложения
│   └── reminder/     # Логика работы с напоминаниями
├── .env.example      # Пример файла конфигурации
├── Dockerfile        # Файл для сборки Docker-образа
├── Makefile         # Команды для сборки и управления
└── README.md         # Документация
```

## Установка и запуск

### Локальный запуск

1. Установите Go 1.21 или выше
2. Клонируйте репозиторий
3. Установите зависимости:

```bash
go mod tidy
```

4. Создайте бота в Telegram через @BotFather и получите токен
5. Настройте окружение:

```bash
make setup
```

6. Отредактируйте файл `.env`, указав ваш токен бота и другие параметры:

```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
BOT_DEBUG=false
REMINDER_MINUTES=10
TZ=Europe/Moscow
```

7. Запустите бота:

```bash
make run
```

### Запуск через Docker

1. Соберите Docker-образ:

```bash
make docker-build
```

2. Запустите контейнер:

```bash
make docker-run
```

## Команды Makefile

- `make help` - показать список доступных команд
- `make build` - собрать приложение
- `make run` - запустить приложение
- `make test` - запустить тесты
- `make clean` - очистить собранные файлы
- `make docker-build` - собрать Docker образ
- `make docker-run` - запустить Docker контейнер
- `make docker-stop` - остановить Docker контейнер
- `make docker-clean` - удалить Docker образ
- `make dev` - запустить в режиме разработки с hot-reload
- `make setup` - настроить окружение разработки

## Конфигурация

Бот поддерживает следующие параметры конфигурации (все можно указать в `.env` файле или переменных окружения):

- `TELEGRAM_BOT_TOKEN` (обязательный) - токен вашего бота
- `BOT_DEBUG` (опционально) - режим отладки (true/false)
- `REMINDER_MINUTES` (опционально) - время напоминания в минутах (по умолчанию 10)
- `TZ` (опционально) - часовой пояс (по умолчанию Europe/Moscow)

## Использование

Отправьте боту сообщение в формате:

```
[Действие]
[Дата и время]
```

Например:

```
Срать
13.04 17:00
```

или

```
Срать
Завтра в 5
```

Бот создаст напоминание и отправит уведомление за указанное время до события.
